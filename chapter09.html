<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 9: Two-Sample Tests | Larsen & Marx Mathematical Statistics</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mtml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    
    <style>
        :root {
            --primary-color: #2E7D32;
            --primary-light: #4CAF50;
            --primary-dark: #1B5E20;
            --secondary-color: #C8E6C9;
            --accent-color: #66BB6A;
            --background-color: #FAFAFA;
            --text-color: #212121;
            --card-background: #FFFFFF;
            --border-color: #E0E0E0;
            --success-color: #4CAF50;
            --error-color: #F44336;
            --warning-color: #FF9800;
            --shadow: 0 2px 10px rgba(46, 125, 50, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            border-radius: 20px;
            color: white;
            box-shadow: var(--shadow);
        }

        .chapter-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .chapter-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .chapter-description {
            font-size: 1rem;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.95;
        }

        .section {
            background: var(--card-background);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary-color);
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-content {
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .concept-explanation {
            background: linear-gradient(135deg, rgba(46, 125, 50, 0.05), rgba(102, 187, 106, 0.05));
            border: 1px solid var(--primary-light);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .concept-explanation h4 {
            color: var(--primary-dark);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        .key-points {
            background: var(--secondary-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .key-points h5 {
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }

        .key-points ul {
            margin-left: 1.5rem;
        }

        .key-points li {
            margin-bottom: 0.3rem;
        }

        .math-formula {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
            font-size: 1.1rem;
        }

        .section-practice {
            background: linear-gradient(135deg, rgba(46, 125, 50, 0.02), rgba(102, 187, 106, 0.02));
            border: 2px solid var(--secondary-color);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .practice-question {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary-color);
        }

        .question-number {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .regenerate-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: var(--transition);
        }

        .regenerate-btn:hover {
            background: var(--primary-color);
            transform: scale(1.05);
        }

        .question-content {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            color: var(--text-color);
        }

        .question-input-area {
            margin-bottom: 1rem;
        }

        .input-label {
            display: block;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .answer-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.1);
        }

        .input-hint {
            font-size: 0.9rem;
            color: var(--accent-color);
            margin-top: 0.5rem;
            font-style: italic;
        }

        .question-buttons {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .question-buttons button {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .check-btn {
            background: var(--success-color);
            color: white;
        }

        .check-btn:hover {
            background: #45A049;
            transform: translateY(-1px);
        }

        .steps-btn {
            background: var(--warning-color);
            color: white;
        }

        .steps-btn:hover {
            background: #F57C00;
            transform: translateY(-1px);
        }

        .new-question-btn {
            background: var(--primary-color);
            color: white;
        }

        .new-question-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .question-feedback {
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-weight: 500;
        }

        .correct-feedback {
            background: linear-gradient(135deg, #E8F5E8, #C8E6C9);
            border: 1px solid var(--success-color);
            color: #2E7D32;
        }

        .incorrect-feedback {
            background: linear-gradient(135deg, #FFEBEE, #FFCDD2);
            border: 1px solid var(--error-color);
            color: #C62828;
        }

        .question-steps {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            border: 1px solid var(--warning-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .step-title {
            font-weight: 700;
            color: var(--warning-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .step-content {
            line-height: 1.6;
        }

        .step-content ol {
            padding-left: 1.5rem;
        }

        .step-content li {
            margin-bottom: 0.5rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .chapter-title {
                font-size: 2rem;
            }
            
            .question-buttons {
                flex-direction: column;
            }
            
            .question-buttons button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="chapter-title">üìä Chapter 9: Two-Sample Tests</h1>
            <p class="chapter-subtitle">Comparing Two Populations</p>
            <p class="chapter-description">
                Master the statistical techniques for comparing two populations through z-tests, t-tests, paired comparisons, 
                proportion tests, variance tests, and nonparametric alternatives. Learn when and how to use each method effectively.
            </p>
        </header>

        <!-- Section 9.1: Two-Sample z-Tests -->
        <div class="section">
            <h2 class="section-title">üìä 9.1 Two-Sample z-Tests</h2>
            <div class="section-content">
                <div class="concept-explanation">
                    <h4>Understanding Two-Sample z-Tests</h4>
                    <p>Two-sample z-tests are used to compare the means of two independent populations when we have specific conditions met. Unlike one-sample tests that compare a sample mean to a known population mean, two-sample tests compare means from two separate groups to determine if they differ significantly.</p>
                    
                    <p>The fundamental question we're asking is: "Are the observed differences between our sample means large enough to conclude that the population means are actually different, or could this difference reasonably be due to random sampling variation?"</p>

                    <div class="key-points">
                        <h5>When to Use Two-Sample z-Tests:</h5>
                        <ul>
                            <li><strong>Known Population Variances:</strong> You know œÉ‚ÇÅ¬≤ and œÉ‚ÇÇ¬≤ from previous studies or theoretical knowledge</li>
                            <li><strong>Large Sample Sizes:</strong> Both samples have n‚ÇÅ ‚â• 30 and n‚ÇÇ ‚â• 30 (Central Limit Theorem applies)</li>
                            <li><strong>Independent Samples:</strong> The two groups are completely separate (not paired or matched)</li>
                            <li><strong>Normal Populations:</strong> Either populations are normal OR sample sizes are large enough for CLT</li>
                        </ul>
                    </div>

                    <p><strong>Key Concept:</strong> The z-test works because under the null hypothesis H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ, the difference between sample means (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) follows a normal distribution with mean 0 and a known standard error. This allows us to calculate exact probabilities and make statistical decisions.</p>
                </div>

                <div class="math-formula">
                    <strong>Null and Alternative Hypotheses:</strong><br>
                    H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ (population means are equal)<br>
                    H‚ÇÅ: Œº‚ÇÅ ‚â† Œº‚ÇÇ (two-tailed) or H‚ÇÅ: Œº‚ÇÅ > Œº‚ÇÇ (one-tailed)
                </div>

                <div class="math-formula">
                    <strong>Test Statistic:</strong><br>
                    z = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ - (Œº‚ÇÅ - Œº‚ÇÇ)) / sqrt(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ)<br>
                    Under H‚ÇÄ, this simplifies to: z = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) / sqrt(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ)
                </div>

                <div class="concept-explanation">
                    <h4>Understanding the Formula</h4>
                    <p>The z-statistic measures how many standard errors our observed difference is from what we'd expect under H‚ÇÄ (which is 0). The denominator sqrt(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ) is the standard error of the difference, calculated using a fundamental rule: when you subtract independent random variables, their variances add.</p>

                    <div class="key-points">
                        <h5>Critical Decision Points:</h5>
                        <ul>
                            <li><strong>Two-tailed test (alpha = 0.05):</strong> Reject H‚ÇÄ if |z| > 1.96</li>
                            <li><strong>One-tailed test (alpha = 0.05):</strong> Reject H‚ÇÄ if z > 1.645 (or z < -1.645)</li>
                            <li><strong>p-value approach:</strong> Reject H‚ÇÄ if p-value < alpha</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section-practice">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">üìä Section 9.1 Practice (10 Question Options)</h3>
                
                <div class="practice-question">
                    <div class="question-header">
                        <span class="question-number">Two-Sample z-Tests Practice</span>
                        <button class="regenerate-btn" onclick="generateQuestion91()">üîÑ New Question</button>
                    </div>
                    <div class="question-content" id="question-91-content"></div>
                    <div class="question-input-area">
                        <label class="input-label" for="answer-91">Your Answer:</label>
                        <input type="text" id="answer-91" class="answer-input" placeholder="Enter your answer here..." onkeypress="if(event.key==='Enter') checkAnswer91()">
                        <div class="input-hint" id="hint-91"></div>
                    </div>
                    <div class="question-buttons">
                        <button class="check-btn" onclick="checkAnswer91()">‚úì Check Answer</button>
                        <button class="steps-btn" onclick="showSteps91()">üìù Show Steps</button>
                        <button class="new-question-btn" onclick="generateQuestion91()">üîÑ New Question</button>
                    </div>
                    <div class="question-feedback" id="feedback-91" style="display: none;"></div>
                    <div class="question-steps" id="steps-91" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Section 9.2: Two-Sample t-Tests -->
        <div class="section">
            <h2 class="section-title">üìä 9.2 Two-Sample t-Tests</h2>
            <div class="section-content">
                <div class="concept-explanation">
                    <h4>Understanding Two-Sample t-Tests</h4>
                    <p>Two-sample t-tests are the workhorse of statistical analysis because they handle the most common real-world scenario: comparing means when population variances are unknown. Unlike z-tests which require known variances, t-tests estimate variances from sample data, which introduces additional uncertainty that must be accounted for.</p>
                    
                    <p>The key insight is that when we estimate variances using sample data, the sampling distribution of our test statistic is no longer exactly normal‚Äîit follows a t-distribution with heavier tails that reflect this extra uncertainty.</p>

                    <div class="key-points">
                        <h5>When to Use Two-Sample t-Tests:</h5>
                        <ul>
                            <li><strong>Unknown Population Variances:</strong> œÉ‚ÇÅ¬≤ and œÉ‚ÇÇ¬≤ are unknown (the typical situation)</li>
                            <li><strong>Small to Moderate Samples:</strong> Especially when n < 30, but works for any size</li>
                            <li><strong>Independent Samples:</strong> Two separate groups, not paired or matched</li>
                            <li><strong>Approximately Normal Populations:</strong> More critical with smaller samples</li>
                        </ul>
                    </div>

                    <p><strong>Two Main Approaches:</strong></p>
                    <p><strong>1. Pooled t-test:</strong> Assumes œÉ‚ÇÅ¬≤ = œÉ‚ÇÇ¬≤ and combines variance estimates</p>
                    <p><strong>2. Welch's t-test:</strong> Does not assume equal variances (more robust)</p>
                </div>

                <div class="math-formula">
                    <strong>Pooled t-Test Formula:</strong><br>
                    t = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) / (s_p √ó sqrt(1/n‚ÇÅ + 1/n‚ÇÇ)) with df = n‚ÇÅ + n‚ÇÇ - 2<br><br>
                    s_p¬≤ = [(n‚ÇÅ-1)s‚ÇÅ¬≤ + (n‚ÇÇ-1)s‚ÇÇ¬≤] / (n‚ÇÅ + n‚ÇÇ - 2) (pooled variance)
                </div>

                <div class="math-formula">
                    <strong>Welch's t-Test Formula:</strong><br>
                    t = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) / sqrt(s‚ÇÅ¬≤/n‚ÇÅ + s‚ÇÇ¬≤/n‚ÇÇ) with adjusted df (Satterthwaite approximation)
                </div>

                <div class="concept-explanation">
                    <h4>Choosing Between Pooled and Welch's Tests</h4>
                    <p>The pooled t-test is more powerful when the equal variance assumption holds, but can give misleading results when variances are unequal. Welch's t-test is more robust‚Äîit performs well whether variances are equal or not, making it a safer default choice.</p>

                    <div class="key-points">
                        <h5>Practical Guidelines:</h5>
                        <ul>
                            <li><strong>Use Welch's as default:</strong> Works well in both equal and unequal variance situations</li>
                            <li><strong>Test assumptions carefully:</strong> Check normality and consider variance equality</li>
                            <li><strong>Consider sample sizes:</strong> Unequal n's make pooled test more sensitive to variance differences</li>
                            <li><strong>Effect of violations:</strong> Unequal variances can seriously affect Type I error rates</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section-practice">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">üìä Section 9.2 Practice (10 Question Options)</h3>
                
                <div class="practice-question">
                    <div class="question-header">
                        <span class="question-number">Two-Sample t-Tests Practice</span>
                        <button class="regenerate-btn" onclick="generateQuestion92()">üîÑ New Question</button>
                    </div>
                    <div class="question-content" id="question-92-content"></div>
                    <div class="question-input-area">
                        <label class="input-label" for="answer-92">Your Answer:</label>
                        <input type="text" id="answer-92" class="answer-input" placeholder="Enter your answer here..." onkeypress="if(event.key==='Enter') checkAnswer92()">
                        <div class="input-hint" id="hint-92"></div>
                    </div>
                    <div class="question-buttons">
                        <button class="check-btn" onclick="checkAnswer92()">‚úì Check Answer</button>
                        <button class="steps-btn" onclick="showSteps92()">üìù Show Steps</button>
                        <button class="new-question-btn" onclick="generateQuestion92()">üîÑ New Question</button>
                    </div>
                    <div class="question-feedback" id="feedback-92" style="display: none;"></div>
                    <div class="question-steps" id="steps-92" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Section 9.3: Paired t-Tests -->
        <div class="section">
            <h2 class="section-title">üìä 9.3 Paired t-Tests</h2>
            <div class="section-content">
                <div class="concept-explanation">
                    <h4>Understanding Paired t-Tests</h4>
                    <p>Paired t-tests are used when you have two related measurements on the same subjects or when subjects are matched in pairs. This design is fundamentally different from independent two-sample tests because it controls for individual differences between subjects, dramatically increasing statistical power.</p>
                    
                    <p>The key insight is that instead of comparing two separate groups, we're analyzing the differences within each pair. This eliminates much of the variability that comes from individual differences, allowing us to detect smaller treatment effects with greater confidence.</p>

                    <div class="key-points">
                        <h5>When to Use Paired t-Tests:</h5>
                        <ul>
                            <li><strong>Before/After Studies:</strong> Same subjects measured at two time points</li>
                            <li><strong>Matched Pairs Design:</strong> Subjects paired by important characteristics, then randomized</li>
                            <li><strong>Natural Pairs:</strong> Twins, husband/wife, left/right measurements</li>
                            <li><strong>Crossover Studies:</strong> Each subject receives both treatments (with washout period)</li>
                        </ul>
                    </div>

                    <p><strong>The Pairing Advantage:</strong> By measuring the same people twice (or very similar people), we remove between-subject variability from our error term, making it much easier to detect true treatment effects.</p>
                </div>

                <div class="math-formula">
                    <strong>Paired t-Test Procedure:</strong><br>
                    1. Calculate differences: d_i = x‚ÇÅ_i - x‚ÇÇ_i for each pair<br>
                    2. Test if mean difference = 0: H‚ÇÄ: Mu_d = 0<br>
                    3. Use one-sample t-test on the differences
                </div>

                <div class="math-formula">
                    <strong>Test Statistic:</strong><br>
                    t = (dÃÑ - 0) / (s_d / sqrt(n))<br>
                    where dÃÑ = mean of differences, s_d = std dev of differences<br>
                    df = n - 1 (number of pairs minus 1)
                </div>

                <div class="concept-explanation">
                    <h4>Power and Efficiency of Pairing</h4>
                    <p>Pairing is incredibly powerful when there's correlation between the paired observations. The more similar the paired subjects are, the greater the benefit. However, pairing does cost you degrees of freedom (n-1 instead of 2n-2), so it's only worthwhile when the pairing is meaningful.</p>

                    <div class="key-points">
                        <h5>Key Assumptions:</h5>
                        <ul>
                            <li><strong>Normality of Differences:</strong> The differences d_i should be approximately normal</li>
                            <li><strong>Independence of Pairs:</strong> Each pair should be independent of other pairs</li>
                            <li><strong>Random Sampling:</strong> Pairs should represent the population of interest</li>
                            <li><strong>No Carryover Effects:</strong> In crossover studies, treatments shouldn't interact</li>
                        </ul>
                    </div>

                    <p><strong>When NOT to Pair:</strong> If there's no logical basis for pairing or if subjects can't be measured twice, use independent two-sample tests instead.</p>
                </div>
            </div>

            <div class="section-practice">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">üìä Section 9.3 Practice (10 Question Options)</h3>
                
                <div class="practice-question">
                    <div class="question-header">
                        <span class="question-number">Paired t-Tests Practice</span>
                        <button class="regenerate-btn" onclick="generateQuestion93()">üîÑ New Question</button>
                    </div>
                    <div class="question-content" id="question-93-content"></div>
                    <div class="question-input-area">
                        <label class="input-label" for="answer-93">Your Answer:</label>
                        <input type="text" id="answer-93" class="answer-input" placeholder="Enter your answer here..." onkeypress="if(event.key==='Enter') checkAnswer93()">
                        <div class="input-hint" id="hint-93"></div>
                    </div>
                    <div class="question-buttons">
                        <button class="check-btn" onclick="checkAnswer93()">‚úì Check Answer</button>
                        <button class="steps-btn" onclick="showSteps93()">üìù Show Steps</button>
                        <button class="new-question-btn" onclick="generateQuestion93()">üîÑ New Question</button>
                    </div>
                    <div class="question-feedback" id="feedback-93" style="display: none;"></div>
                    <div class="question-steps" id="steps-93" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Section 9.4: Two-Sample Proportion Tests -->
        <div class="section">
            <h2 class="section-title">üìä 9.4 Two-Sample Proportion Tests</h2>
            <div class="section-content">
                <div class="concept-explanation">
                    <h4>Understanding Two-Sample Proportion Tests</h4>
                    <p>Two-sample proportion tests compare the success rates (proportions) between two independent groups when dealing with categorical data. These tests are fundamental in medical research (comparing cure rates), marketing (comparing conversion rates), and quality control (comparing defect rates).</p>
                    
                    <p>The key insight is that we're comparing p‚ÇÅ (proportion in group 1) to p‚ÇÇ (proportion in group 2). Under the null hypothesis that p‚ÇÅ = p‚ÇÇ, we can pool the data to get our best estimate of the common proportion, which we use to calculate the standard error.</p>

                    <div class="key-points">
                        <h5>When to Use Two-Sample Proportion Tests:</h5>
                        <ul>
                            <li><strong>Binary Outcomes:</strong> Each observation is success/failure, yes/no, pass/fail</li>
                            <li><strong>Independent Groups:</strong> Two separate samples from different populations</li>
                            <li><strong>Large Samples:</strong> np ‚â• 5 and n(1-p) ‚â• 5 for both groups</li>
                            <li><strong>Random Sampling:</strong> Both samples should be randomly selected</li>
                        </ul>
                    </div>

                    <p><strong>Real-World Applications:</strong> Medical trials (drug effectiveness), A/B testing (website conversion), quality control (defect comparison), polling (support rate differences).</p>
                </div>

                <div class="math-formula">
                    <strong>Hypotheses:</strong><br>
                    H‚ÇÄ: p‚ÇÅ = p‚ÇÇ (proportions are equal)<br>
                    H‚ÇÅ: p‚ÇÅ ‚â† p‚ÇÇ (two-tailed) or p‚ÇÅ > p‚ÇÇ (one-tailed)
                </div>

                <div class="math-formula">
                    <strong>Pooled Proportion:</strong><br>
                    pÃÇ pooled = (x‚ÇÅ + x‚ÇÇ) / (n‚ÇÅ + n‚ÇÇ)<br>
                    where x‚ÇÅ, x‚ÇÇ = number of successes in each group
                </div>

                <div class="math-formula">
                    <strong>Test Statistic:</strong><br>
                    z = (pÃÇ‚ÇÅ - pÃÇ‚ÇÇ) / sqrt[pÃÇ pooled √ó (1 - pÃÇ pooled) √ó (1/n‚ÇÅ + 1/n‚ÇÇ)]<br>
                    Under H‚ÇÄ, z follows standard normal distribution
                </div>

                <div class="concept-explanation">
                    <h4>Why Pool Under the Null Hypothesis?</h4>
                    <p>Under H‚ÇÄ: p‚ÇÅ = p‚ÇÇ, both samples are drawn from populations with the same proportion. Therefore, combining both samples gives us the best estimate of this common proportion. This pooled estimate is more precise than either individual sample proportion and provides the most accurate standard error for the test.</p>

                    <div class="key-points">
                        <h5>Important Considerations:</h5>
                        <ul>
                            <li><strong>Sample Size Requirements:</strong> Success-failure rule must hold for normal approximation</li>
                            <li><strong>Confidence Intervals:</strong> Don't use pooled proportion‚Äîuse separate proportions</li>
                            <li><strong>Fisher's Exact Test:</strong> Alternative for small samples where normal approximation fails</li>
                            <li><strong>Effect Size:</strong> Consider practical significance, not just statistical significance</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section-practice">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">üìä Section 9.4 Practice (10 Question Options)</h3>
                
                <div class="practice-question">
                    <div class="question-header">
                        <span class="question-number">Two-Sample Proportion Tests Practice</span>
                        <button class="regenerate-btn" onclick="generateQuestion94()">üîÑ New Question</button>
                    </div>
                    <div class="question-content" id="question-94-content"></div>
                    <div class="question-input-area">
                        <label class="input-label" for="answer-94">Your Answer:</label>
                        <input type="text" id="answer-94" class="answer-input" placeholder="Enter your answer here..." onkeypress="if(event.key==='Enter') checkAnswer94()">
                        <div class="input-hint" id="hint-94"></div>
                    </div>
                    <div class="question-buttons">
                        <button class="check-btn" onclick="checkAnswer94()">‚úì Check Answer</button>
                        <button class="steps-btn" onclick="showSteps94()">üìù Show Steps</button>
                        <button class="new-question-btn" onclick="generateQuestion94()">üîÑ New Question</button>
                    </div>
                    <div class="question-feedback" id="feedback-94" style="display: none;"></div>
                    <div class="question-steps" id="steps-94" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Section 9.5: Tests for Equal Variances -->
        <div class="section">
            <h2 class="section-title">üìä 9.5 Tests for Equal Variances</h2>
            <div class="section-content">
                <div class="concept-explanation">
                    <h4>Understanding Variance Tests</h4>
                    <p>Tests for equal variances determine whether two populations have the same variability. This is crucial because many statistical procedures (like pooled t-tests) assume equal variances. Variance tests help us decide which statistical method is appropriate and whether our assumptions are reasonable.</p>
                    
                    <p>The most common test is the F-test, which compares the ratio of sample variances to what we'd expect if population variances were equal. However, the F-test is notoriously sensitive to departures from normality, leading to the development of more robust alternatives.</p>

                    <div class="key-points">
                        <h5>When to Test for Equal Variances:</h5>
                        <ul>
                            <li><strong>Before t-tests:</strong> To decide between pooled and Welch's procedures</li>
                            <li><strong>Quality Control:</strong> Comparing consistency between processes or machines</li>
                            <li><strong>Method Validation:</strong> Ensuring measurement methods have similar precision</li>
                            <li><strong>ANOVA Prerequisites:</strong> Checking homoscedasticity assumption</li>
                        </ul>
                    </div>

                    <p><strong>The Robustness Problem:</strong> Variance tests often fail precisely when you need them most‚Äîwhen data are non-normal. This has led many statisticians to recommend robust alternatives or simply using Welch's procedures as the default.</p>
                </div>

                <div class="math-formula">
                    <strong>F-Test for Equal Variances:</strong><br>
                    H‚ÇÄ: œÉ‚ÇÅ¬≤ = œÉ‚ÇÇ¬≤ vs H‚ÇÅ: œÉ‚ÇÅ¬≤ ‚â† œÉ‚ÇÇ¬≤<br>
                    F = s‚ÇÅ¬≤ / s‚ÇÇ¬≤ (larger variance in numerator)<br>
                    Under H‚ÇÄ, F follows F(df‚ÇÅ, df‚ÇÇ) where df‚ÇÅ = n‚ÇÅ-1, df‚ÇÇ = n‚ÇÇ-1
                </div>

                <div class="math-formula">
                    <strong>Decision Rule:</strong><br>
                    Reject H‚ÇÄ if F > F(alpha/2, df‚ÇÅ, df‚ÇÇ) for two-tailed test<br>
                    Critical values depend on degrees of freedom and significance level
                </div>

                <div class="concept-explanation">
                    <h4>Robust Alternatives to the F-Test</h4>
                    <p>Because the F-test assumes normality and is sensitive to violations, several robust alternatives have been developed:</p>

                    <div class="key-points">
                        <h5>Alternative Tests:</h5>
                        <ul>
                            <li><strong>Levene's Test:</strong> Uses absolute deviations from group medians</li>
                            <li><strong>Brown-Forsythe Test:</strong> Modified Levene's test using medians instead of means</li>
                            <li><strong>Bartlett's Test:</strong> Extension to multiple groups (but also sensitive to non-normality)</li>
                            <li><strong>Modern Approach:</strong> Use Welch's procedures by default to avoid pre-testing</li>
                        </ul>
                    </div>

                    <p><strong>The Pre-testing Problem:</strong> Testing for equal variances before choosing your analysis method can inflate Type I error rates. Many statisticians now recommend using methods that don't assume equal variances (like Welch's t-test) as the default approach.</p>
                </div>
            </div>

            <div class="section-practice">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">üìä Section 9.5 Practice (10 Question Options)</h3>
                
                <div class="practice-question">
                    <div class="question-header">
                        <span class="question-number">Equal Variances Tests Practice</span>
                        <button class="regenerate-btn" onclick="generateQuestion95()">üîÑ New Question</button>
                    </div>
                    <div class="question-content" id="question-95-content"></div>
                    <div class="question-input-area">
                        <label class="input-label" for="answer-95">Your Answer:</label>
                        <input type="text" id="answer-95" class="answer-input" placeholder="Enter your answer here..." onkeypress="if(event.key==='Enter') checkAnswer95()">
                        <div class="input-hint" id="hint-95"></div>
                    </div>
                    <div class="question-buttons">
                        <button class="check-btn" onclick="checkAnswer95()">‚úì Check Answer</button>
                        <button class="steps-btn" onclick="showSteps95()">üìù Show Steps</button>
                        <button class="new-question-btn" onclick="generateQuestion95()">üîÑ New Question</button>
                    </div>
                    <div class="question-feedback" id="feedback-95" style="display: none;"></div>
                    <div class="question-steps" id="steps-95" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Section 9.6: Nonparametric Two-Sample Tests -->
        <div class="section">
            <h2 class="section-title">üìä 9.6 Nonparametric Two-Sample Tests</h2>
            <div class="section-content">
                <div class="concept-explanation">
                    <h4>Understanding Nonparametric Tests</h4>
                    <p>Nonparametric tests provide robust alternatives when the assumptions of parametric tests (like normality) are violated. Instead of comparing means directly, these tests typically compare medians or ask whether observations from one group tend to be systematically larger than observations from another group.</p>
                    
                    <p>The key advantage is robustness‚Äînonparametric tests work well with skewed data, outliers, and small sample sizes. The trade-off is that they typically have slightly lower power than parametric tests when all assumptions are met, but they often have higher power when assumptions are violated.</p>

                    <div class="key-points">
                        <h5>When to Use Nonparametric Tests:</h5>
                        <ul>
                            <li><strong>Non-normal Data:</strong> Heavy skewness, outliers, or multiple modes</li>
                            <li><strong>Small Samples:</strong> When you can't reliably assess normality</li>
                            <li><strong>Ordinal Data:</strong> Ranked or ordered data (Likert scales, pain ratings)</li>
                            <li><strong>Robust Analysis:</strong> When you want protection against assumption violations</li>
                        </ul>
                    </div>

                    <p><strong>The Ranking Approach:</strong> Most nonparametric tests work by ranking all observations from smallest to largest, then comparing how the ranks are distributed between groups. This makes the tests insensitive to the actual values and focuses on relative ordering.</p>
                </div>

                <div class="math-formula">
                    <strong>Mann-Whitney U Test (Independent Samples):</strong><br>
                    1. Combine all observations and rank from 1 to n‚ÇÅ + n‚ÇÇ<br>
                    2. Calculate sum of ranks for each group (R‚ÇÅ, R‚ÇÇ)<br>
                    3. Compute U statistics: U‚ÇÅ = R‚ÇÅ - n‚ÇÅ(n‚ÇÅ+1)/2<br>
                    4. Use smaller U as test statistic
                </div>

                <div class="math-formula">
                    <strong>Wilcoxon Signed-Rank Test (Paired Samples):</strong><br>
                    1. Calculate differences d_i for each pair<br>
                    2. Rank absolute differences |d_i| (ignore zeros)<br>
                    3. Assign signs to ranks based on original difference signs<br>
                    4. Sum positive ranks (W+) and negative ranks (W-)
                </div>

                <div class="concept-explanation">
                    <h4>Efficiency and Power Considerations</h4>
                    <p>Nonparametric tests have asymptotic relative efficiency of about 95% compared to their parametric counterparts when all assumptions are met. This means you need only about 5% more data to achieve the same power‚Äîa remarkably small price for the robustness gained.</p>

                    <div class="key-points">
                        <h5>Key Nonparametric Tests:</h5>
                        <ul>
                            <li><strong>Mann-Whitney U:</strong> Alternative to independent t-test</li>
                            <li><strong>Wilcoxon Signed-Rank:</strong> Alternative to paired t-test</li>
                            <li><strong>Kruskal-Wallis:</strong> Alternative to one-way ANOVA</li>
                            <li><strong>Sign Test:</strong> Simple alternative when only direction matters</li>
                        </ul>
                    </div>

                    <p><strong>Handling Ties:</strong> When observations have the same value, assign each the average of the ranks they would have occupied. Most software handles ties automatically and may apply continuity corrections for better approximations.</p>
                </div>
            </div>

            <div class="section-practice">
                <h3 style="color: var(--primary-color); margin-bottom: 1.5rem;">üìä Section 9.6 Practice (10 Question Options)</h3>
                
                <div class="practice-question">
                    <div class="question-header">
                        <span class="question-number">Nonparametric Tests Practice</span>
                        <button class="regenerate-btn" onclick="generateQuestion96()">üîÑ New Question</button>
                    </div>
                    <div class="question-content" id="question-96-content"></div>
                    <div class="question-input-area">
                        <label class="input-label" for="answer-96">Your Answer:</label>
                        <input type="text" id="answer-96" class="answer-input" placeholder="Enter your answer here..." onkeypress="if(event.key==='Enter') checkAnswer96()">
                        <div class="input-hint" id="hint-96"></div>
                    </div>
                    <div class="question-buttons">
                        <button class="check-btn" onclick="checkAnswer96()">‚úì Check Answer</button>
                        <button class="steps-btn" onclick="showSteps96()">üìù Show Steps</button>
                        <button class="new-question-btn" onclick="generateQuestion96()">üîÑ New Question</button>
                    </div>
                    <div class="question-feedback" id="feedback-96" style="display: none;"></div>
                    <div class="question-steps" id="steps-96" style="display: none;"></div>
                </div>
            </div>
        </div>
        
    </div>

    <script>
        // Current question tracking variables
        let currentQuestion91 = null, currentQuestion92 = null, currentQuestion93 = null;
        let currentQuestion94 = null, currentQuestion95 = null, currentQuestion96 = null;

        // Question arrays with simple explanations for answers
        const twoSampleZQuestions = [
            {
                question: "When should you use a two-sample z-test?",
                correctAnswers: ["known variances", "large samples", "normal populations"],
                hint: "Think about when you know population parameters",
                explanation: "Use when variances are known or samples are large (n ‚â• 30).",
                steps: `<div class="step-title">Two-Sample z-Test Conditions:</div><div class="step-content"><ol><li><strong>Known variances:</strong> œÉ‚ÇÅ¬≤ and œÉ‚ÇÇ¬≤ are known</li><li><strong>Large samples:</strong> Both n‚ÇÅ, n‚ÇÇ ‚â• 30</li><li><strong>Normal populations:</strong> Or approximately normal</li></ol></div>`
            },
            {
                question: "What is the formula for two-sample z-statistic?",
                correctAnswers: ["(XÃÑ‚ÇÅ - XÃÑ‚ÇÇ)/sqrt(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ)", "difference over standard error"],
                hint: "Think about the standardization formula",
                explanation: "z = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ)/sqrt(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ) standardizes the difference.",
                steps: `<div class="step-title">z-Statistic Formula:</div><div class="step-content"><ol><li><strong>Numerator:</strong> Difference in sample means</li><li><strong>Denominator:</strong> Standard error of difference</li><li><strong>SE:</strong> sqrt(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ)</li></ol></div>`
            },
            {
                question: "What is the null hypothesis for two-sample z-test?",
                correctAnswers: ["Œº‚ÇÅ = Œº‚ÇÇ", "no difference in means", "Œº‚ÇÅ - Œº‚ÇÇ = 0"],
                hint: "Think about what you're testing",
                explanation: "H‚ÇÄ: Œº‚ÇÅ = Œº‚ÇÇ tests that population means are equal.",
                steps: `<div class="step-title">Hypotheses:</div><div class="step-content"><ol><li><strong>H‚ÇÄ:</strong> Œº‚ÇÅ = Œº‚ÇÇ</li><li><strong>H‚ÇÅ:</strong> Œº‚ÇÅ ‚â† Œº‚ÇÇ (two-tailed)</li><li><strong>Or:</strong> Œº‚ÇÅ > Œº‚ÇÇ (one-tailed)</li></ol></div>`
            },
            {
                question: "What distribution does the z-statistic follow?",
                correctAnswers: ["standard normal", "N(0,1)", "normal with mean 0 variance 1"],
                hint: "Think about the standard normal distribution",
                explanation: "Under H‚ÇÄ, the z-statistic follows a standard normal distribution N(0,1).",
                steps: `<div class="step-title">Distribution:</div><div class="step-content"><ol><li><strong>Under H‚ÇÄ:</strong> z ~ N(0,1)</li><li><strong>Critical values:</strong> ¬±1.96 for Œ± = 0.05</li><li><strong>p-value:</strong> P(|Z| > |z|)</li></ol></div>`
            },
            {
                question: "How do you calculate the standard error of difference?",
                correctAnswers: ["‚àö(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ)", "square root of sum of variances"],
                hint: "Think about combining variances",
                explanation: "Standard error = ‚àö(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ) combines sampling variances.",
                steps: `<div class="step-title">Standard Error:</div><div class="step-content"><ol><li><strong>Formula:</strong> SE = ‚àö(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ)</li><li><strong>Variance 1:</strong> œÉ‚ÇÅ¬≤/n‚ÇÅ</li><li><strong>Variance 2:</strong> œÉ‚ÇÇ¬≤/n‚ÇÇ</li></ol></div>`
            },
            {
                question: "What assumption is needed for independent samples?",
                correctAnswers: ["observations are independent", "no pairing", "random samples"],
                hint: "Think about sample independence",
                explanation: "Observations within and between samples must be independent.",
                steps: `<div class="step-title">Independence:</div><div class="step-content"><ol><li><strong>Within samples:</strong> No correlation within groups</li><li><strong>Between samples:</strong> No matching or pairing</li><li><strong>Random sampling:</strong> Representative samples</li></ol></div>`
            },
            {
                question: "How do you interpret a significant z-test?",
                correctAnswers: ["reject null hypothesis", "means are different", "evidence of difference"],
                hint: "Think about what rejection means",
                explanation: "Significant result means we reject H‚ÇÄ and conclude population means are different.",
                steps: `<div class="step-title">Interpretation:</div><div class="step-content"><ol><li><strong>Significant:</strong> Reject H‚ÇÄ, means differ</li><li><strong>Not significant:</strong> Fail to reject H‚ÇÄ</li><li><strong>Effect size:</strong> Consider practical significance</li></ol></div>`
            },
            {
                question: "What is a confidence interval for the difference?",
                correctAnswers: ["(XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) ¬± z_{Œ±/2} √ó SE", "range for Œº‚ÇÅ - Œº‚ÇÇ"],
                hint: "Think about interval estimation",
                explanation: "CI = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) ¬± z_{Œ±/2}‚àö(œÉ‚ÇÅ¬≤/n‚ÇÅ + œÉ‚ÇÇ¬≤/n‚ÇÇ) estimates Œº‚ÇÅ - Œº‚ÇÇ.",
                steps: `<div class="step-title">Confidence Interval:</div><div class="step-content"><ol><li><strong>Point estimate:</strong> XÃÑ‚ÇÅ - XÃÑ‚ÇÇ</li><li><strong>Margin of error:</strong> z_{Œ±/2} √ó SE</li><li><strong>Interpretation:</strong> Plausible values for Œº‚ÇÅ - Œº‚ÇÇ</li></ol></div>`
            },
            {
                question: "When is pooling not appropriate?",
                correctAnswers: ["unequal variances", "different populations", "independent samples"],
                hint: "Think about when not to combine",
                explanation: "Don't pool when variances are unequal or populations have different characteristics.",
                steps: `<div class="step-title">No Pooling:</div><div class="step-content"><ol><li><strong>Unequal variances:</strong> œÉ‚ÇÅ¬≤ ‚â† œÉ‚ÇÇ¬≤</li><li><strong>Different populations:</strong> Distinct characteristics</li><li><strong>Use separate:</strong> Individual variance estimates</li></ol></div>`
            },
            {
                question: "What is the power of a two-sample z-test?",
                correctAnswers: ["probability of detecting difference", "1 - Œ≤", "avoiding Type II error"],
                hint: "Think about detecting true differences",
                explanation: "Power is the probability of correctly rejecting H‚ÇÄ when means truly differ.",
                steps: `<div class="step-title">Power:</div><div class="step-content"><ol><li><strong>Definition:</strong> P(reject H‚ÇÄ | H‚ÇÅ true)</li><li><strong>Factors:</strong> Effect size, sample size, Œ±</li><li><strong>Increase:</strong> Larger n, bigger difference</li></ol></div>`
            }
        ];

        const twoSampleTQuestions = [
            {
                question: "When do you use two-sample t-test?",
                correctAnswers: ["unknown variances", "small samples", "normal populations"],
                hint: "Think about when population variance is unknown",
                explanation: "Use when population variances are unknown and samples may be small.",
                steps: `<div class="step-title">t-Test Conditions:</div><div class="step-content"><ol><li><strong>Unknown variances:</strong> œÉ‚ÇÅ¬≤, œÉ‚ÇÇ¬≤ unknown</li><li><strong>Small samples:</strong> n < 30 possible</li><li><strong>Normal populations:</strong> Required assumption</li></ol></div>`
            },
            {
                question: "What is pooled variance?",
                correctAnswers: ["weighted average of sample variances", "s¬≤p", "combined variance estimate"],
                hint: "Think about combining variance estimates",
                explanation: "Pooled variance combines sample variances assuming equal population variances.",
                steps: `<div class="step-title">Pooled Variance:</div><div class="step-content"><ol><li><strong>Formula:</strong> s¬≤p = [(n‚ÇÅ-1)s‚ÇÅ¬≤ + (n‚ÇÇ-1)s‚ÇÇ¬≤]/(n‚ÇÅ+n‚ÇÇ-2)</li><li><strong>Assumption:</strong> Equal population variances</li><li><strong>Weights:</strong> By degrees of freedom</li></ol></div>`
            },
            {
                question: "What is Welch's t-test?",
                correctAnswers: ["unequal variances t-test", "Satterthwaite approximation", "separate variances"],
                hint: "Think about unequal variance assumption",
                explanation: "Welch's t-test doesn't assume equal variances and uses adjusted degrees of freedom.",
                steps: `<div class="step-title">Welch's t-Test:</div><div class="step-content"><ol><li><strong>Assumption:</strong> Unequal variances allowed</li><li><strong>SE:</strong> ‚àö(s‚ÇÅ¬≤/n‚ÇÅ + s‚ÇÇ¬≤/n‚ÇÇ)</li><li><strong>df:</strong> Satterthwaite approximation</li></ol></div>`
            },
            {
                question: "How do you test equal variances assumption?",
                correctAnswers: ["F-test", "Levene's test", "variance ratio test"],
                hint: "Think about testing homoscedasticity",
                explanation: "Use F-test (F = s‚ÇÅ¬≤/s‚ÇÇ¬≤) or Levene's test to check equal variances assumption.",
                steps: `<div class="step-title">Testing Equal Variances:</div><div class="step-content"><ol><li><strong>F-test:</strong> F = s‚ÇÅ¬≤/s‚ÇÇ¬≤ (larger/smaller)</li><li><strong>Levene's test:</strong> More robust</li><li><strong>Decision:</strong> If violated, use Welch's</li></ol></div>`
            },
            {
                question: "What are degrees of freedom for pooled t-test?",
                correctAnswers: ["n‚ÇÅ + n‚ÇÇ - 2", "total sample size minus 2"],
                hint: "Think about parameters estimated",
                explanation: "df = n‚ÇÅ + n‚ÇÇ - 2 because we estimate two means from the combined sample.",
                steps: `<div class="step-title">Degrees of Freedom:</div><div class="step-content"><ol><li><strong>Pooled:</strong> df = n‚ÇÅ + n‚ÇÇ - 2</li><li><strong>Logic:</strong> Two means estimated</li><li><strong>Total observations:</strong> n‚ÇÅ + n‚ÇÇ</li></ol></div>`
            },
            {
                question: "What is the formula for pooled t-statistic?",
                correctAnswers: ["(XÃÑ‚ÇÅ - XÃÑ‚ÇÇ)/(sp‚àö(1/n‚ÇÅ + 1/n‚ÇÇ))", "difference over pooled standard error"],
                hint: "Think about using pooled variance",
                explanation: "t = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ)/(sp‚àö(1/n‚ÇÅ + 1/n‚ÇÇ)) uses pooled standard error.",
                steps: `<div class="step-title">Pooled t-Statistic:</div><div class="step-content"><ol><li><strong>Numerator:</strong> Difference in means</li><li><strong>Denominator:</strong> sp‚àö(1/n‚ÇÅ + 1/n‚ÇÇ)</li><li><strong>sp:</strong> Pooled standard deviation</li></ol></div>`
            },
            {
                question: "When is pooled t-test appropriate?",
                correctAnswers: ["equal variances", "homoscedasticity", "œÉ‚ÇÅ¬≤ = œÉ‚ÇÇ¬≤"],
                hint: "Think about variance assumption",
                explanation: "Use pooled t-test when population variances are equal (homoscedasticity).",
                steps: `<div class="step-title">Pooled Appropriateness:</div><div class="step-content"><ol><li><strong>Assumption:</strong> œÉ‚ÇÅ¬≤ = œÉ‚ÇÇ¬≤</li><li><strong>Test:</strong> F-test or Levene's</li><li><strong>If violated:</strong> Use Welch's t-test</li></ol></div>`
            },
            {
                question: "What distribution does t-statistic follow?",
                correctAnswers: ["t-distribution", "Student's t", "t with n‚ÇÅ+n‚ÇÇ-2 df"],
                hint: "Think about the sampling distribution",
                explanation: "Under H‚ÇÄ, t-statistic follows t-distribution with n‚ÇÅ + n‚ÇÇ - 2 degrees of freedom.",
                steps: `<div class="step-title">t-Distribution:</div><div class="step-content"><ol><li><strong>Distribution:</strong> t_{n‚ÇÅ+n‚ÇÇ-2}</li><li><strong>Symmetric:</strong> Around zero</li><li><strong>Heavier tails:</strong> Than normal</li></ol></div>`
            },
            {
                question: "How do you calculate confidence interval for difference?",
                correctAnswers: ["(XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) ¬± t √ó SE", "point estimate ¬± margin of error"],
                hint: "Think about t-based interval",
                explanation: "CI = (XÃÑ‚ÇÅ - XÃÑ‚ÇÇ) ¬± t_{Œ±/2,df} √ó sp‚àö(1/n‚ÇÅ + 1/n‚ÇÇ) for mean difference.",
                steps: `<div class="step-title">t-Confidence Interval:</div><div class="step-content"><ol><li><strong>Point estimate:</strong> XÃÑ‚ÇÅ - XÃÑ‚ÇÇ</li><li><strong>Critical value:</strong> t_{Œ±/2,df}</li><li><strong>Standard error:</strong> sp‚àö(1/n‚ÇÅ + 1/n‚ÇÇ)</li></ol></div>`
            },
            {
                question: "What happens as sample size increases?",
                correctAnswers: ["approaches z-test", "t approaches normal", "more precise estimates"],
                hint: "Think about large sample behavior",
                explanation: "As n increases, t-distribution approaches normal, and t-test approaches z-test.",
                steps: `<div class="step-title">Large Sample Behavior:</div><div class="step-content"><ol><li><strong>t ‚Üí z:</strong> As df ‚Üí ‚àû</li><li><strong>SE decreases:</strong> More precision</li><li><strong>Power increases:</strong> Better detection</li></ol></div>`
            }
        ];

        const pairedTQuestions = [
            {
                question: "When do you use a paired t-test?",
                correctAnswers: ["matched pairs", "before and after", "dependent samples"],
                hint: "Think about related observations",
                explanation: "Use paired t-test when observations are naturally paired or matched.",
                steps: `<div class="step-title">Paired Design:</div><div class="step-content"><ol><li><strong>Matched pairs:</strong> Each subject in both groups</li><li><strong>Before/after:</strong> Same subjects, different times</li><li><strong>Natural pairs:</strong> Twins, spouse pairs</li></ol></div>`
            },
            {
                question: "What is the test statistic for paired t-test?",
                correctAnswers: ["t = dÃÑ/(sd/sqrt(n))", "mean difference over standard error"],
                hint: "Think about analyzing differences",
                explanation: "t = dÃÑ/(sd/sqrt(n)) where dÃÑ is mean difference and sd is standard deviation of differences.",
                steps: `<div class="step-title">Paired t-Statistic:</div><div class="step-content"><ol><li><strong>dÃÑ:</strong> Mean of differences di = x1i - x2i</li><li><strong>sd:</strong> Standard deviation of differences</li><li><strong>n:</strong> Number of pairs</li></ol></div>`
            },
            {
                question: "What are the degrees of freedom for paired t-test?",
                correctAnswers: ["n - 1", "number of pairs minus 1"],
                hint: "Think about how many pairs you have",
                explanation: "df = n - 1 where n is the number of pairs (not individual observations).",
                steps: `<div class="step-title">Paired df:</div><div class="step-content"><ol><li><strong>df:</strong> n - 1</li><li><strong>n:</strong> Number of pairs</li><li><strong>One mean:</strong> Mean difference estimated</li></ol></div>`
            },
            {
                question: "What is the null hypothesis for paired t-test?",
                correctAnswers: ["Œºd = 0", "no difference", "mean difference is zero"],
                hint: "Think about testing the mean difference",
                explanation: "H‚ÇÄ: Œºd = 0 tests that the mean population difference equals zero.",
                steps: `<div class="step-title">Paired Hypotheses:</div><div class="step-content"><ol><li><strong>H‚ÇÄ:</strong> Œºd = 0</li><li><strong>H‚ÇÅ:</strong> Œºd ‚â† 0 (two-tailed)</li><li><strong>Or:</strong> Œºd > 0 (one-tailed)</li></ol></div>`
            },
            {
                question: "What advantage does pairing provide?",
                correctAnswers: ["controls individual differences", "increased power", "reduces variability"],
                hint: "Think about what pairing eliminates",
                explanation: "Pairing controls for individual differences, reducing variability and increasing power.",
                steps: `<div class="step-title">Pairing Advantages:</div><div class="step-content"><ol><li><strong>Control:</strong> Individual differences removed</li><li><strong>Power:</strong> Smaller standard error</li><li><strong>Efficiency:</strong> Fewer subjects needed</li></ol></div>`
            },
            {
                question: "How do you calculate the differences?",
                correctAnswers: ["di = x1i - x2i", "first minus second", "before minus after"],
                hint: "Think about the order of subtraction",
                explanation: "Calculate di = x1i - x2i for each pair, keeping consistent order.",
                steps: `<div class="step-title">Computing Differences:</div><div class="step-content"><ol><li><strong>Formula:</strong> di = x1i - x2i</li><li><strong>Consistent:</strong> Same order for all pairs</li><li><strong>Sign matters:</strong> Direction indicates which is larger</li></ol></div>`
            },
            {
                question: "What assumption is needed for paired t-test?",
                correctAnswers: ["differences are normal", "di ~ normal", "normality of differences"],
                hint: "Think about what needs to be normal",
                explanation: "The differences di must be approximately normally distributed.",
                steps: `<div class="step-title">Normality Assumption:</div><div class="step-content"><ol><li><strong>Requirement:</strong> di ~ Normal</li><li><strong>Not required:</strong> Individual x1i, x2i normal</li><li><strong>Check:</strong> Plot histogram of differences</li></ol></div>`
            },
            {
                question: "How do you construct confidence interval for Œºd?",
                correctAnswers: ["dÃÑ ¬± t √ó (sd/sqrt(n))", "mean difference ¬± margin of error"],
                hint: "Think about interval for mean difference",
                explanation: "CI = dÃÑ ¬± t_{Œ±/2,n-1} √ó (sd/sqrt(n)) gives interval for population mean difference.",
                steps: `<div class="step-title">Paired CI:</div><div class="step-content"><ol><li><strong>Center:</strong> dÃÑ (sample mean difference)</li><li><strong>Critical value:</strong> t_{Œ±/2,n-1}</li><li><strong>Standard error:</strong> sd/sqrt(n)</li></ol></div>`
            },
            {
                question: "When is pairing inappropriate?",
                correctAnswers: ["independent groups", "no natural matching", "different subjects"],
                hint: "Think about when observations aren't related",
                explanation: "Don't use paired test when observations are independent with no natural pairing.",
                steps: `<div class="step-title">When Not to Pair:</div><div class="step-content"><ol><li><strong>Independent groups:</strong> Different subjects</li><li><strong>No matching:</strong> Random assignment</li><li><strong>Use:</strong> Two-sample t-test instead</li></ol></div>`
            },
            {
                question: "What if differences are not normal?",
                correctAnswers: ["use nonparametric test", "Wilcoxon signed-rank", "transform data"],
                hint: "Think about alternatives to normality",
                explanation: "If differences aren't normal, use Wilcoxon signed-rank test or transform data.",
                steps: `<div class="step-title">Non-normal Differences:</div><div class="step-content"><ol><li><strong>Alternative:</strong> Wilcoxon signed-rank</li><li><strong>Transform:</strong> Log, square root</li><li><strong>Bootstrap:</strong> Modern alternative</li></ol></div>`
            }
        ];

        const proportionTestsQuestions = [
            {
                question: "When do you use two-sample proportion test?",
                correctAnswers: ["comparing proportions", "categorical data", "binomial outcomes"],
                hint: "Think about comparing success rates",
                explanation: "Use when comparing proportions between two groups with categorical outcomes.",
                steps: `<div class="step-title">Proportion Test Use:</div><div class="step-content"><ol><li><strong>Binary outcomes:</strong> Success/failure</li><li><strong>Two groups:</strong> Compare proportions</li><li><strong>Large samples:</strong> Normal approximation</li></ol></div>`
            },
            {
                question: "What is the pooled proportion?",
                correctAnswers: ["pÃÇ = (x‚ÇÅ + x‚ÇÇ)/(n‚ÇÅ + n‚ÇÇ)", "combined success rate", "overall proportion"],
                hint: "Think about combining both samples",
                explanation: "Pooled proportion pÃÇ = (x‚ÇÅ + x‚ÇÇ)/(n‚ÇÅ + n‚ÇÇ) combines successes from both samples.",
                steps: `<div class="step-title">Pooled Proportion:</div><div class="step-content"><ol><li><strong>Formula:</strong> pÃÇ = (x‚ÇÅ + x‚ÇÇ)/(n‚ÇÅ + n‚ÇÇ)</li><li><strong>Assumption:</strong> H‚ÇÄ: p‚ÇÅ = p‚ÇÇ</li><li><strong>Use:</strong> In standard error calculation</li></ol></div>`
            },
            {
                question: "What is the test statistic for two proportions?",
                correctAnswers: ["z = (pÃÇ‚ÇÅ - pÃÇ‚ÇÇ)/SE", "difference over standard error"],
                hint: "Think about standardizing proportion difference",
                explanation: "z = (pÃÇ‚ÇÅ - pÃÇ‚ÇÇ)/‚àö[pÃÇ(1-pÃÇ)(1/n‚ÇÅ + 1/n‚ÇÇ)] where pÃÇ is pooled proportion.",
                steps: `<div class="step-title">z-Statistic for Proportions:</div><div class="step-content"><ol><li><strong>Numerator:</strong> pÃÇ‚ÇÅ - pÃÇ‚ÇÇ</li><li><strong>SE:</strong> ‚àö[pÃÇ(1-pÃÇ)(1/n‚ÇÅ + 1/n‚ÇÇ)]</li><li><strong>Distribution:</strong> Standard normal under H‚ÇÄ</li></ol></div>`
            },
            {
                question: "What is the null hypothesis for proportion test?",
                correctAnswers: ["p‚ÇÅ = p‚ÇÇ", "no difference in proportions", "equal success rates"],
                hint: "Think about what you're comparing",
                explanation: "H‚ÇÄ: p‚ÇÅ = p‚ÇÇ tests that population proportions are equal.",
                steps: `<div class="step-title">Proportion Hypotheses:</div><div class="step-content"><ol><li><strong>H‚ÇÄ:</strong> p‚ÇÅ = p‚ÇÇ</li><li><strong>H‚ÇÅ:</strong> p‚ÇÅ ‚â† p‚ÇÇ (two-tailed)</li><li><strong>Or:</strong> p‚ÇÅ > p‚ÇÇ (one-tailed)</li></ol></div>`
            },
            {
                question: "What conditions are needed for normal approximation?",
                correctAnswers: ["np ‚â• 5 and n(1-p) ‚â• 5", "success-failure rule", "large samples"],
                hint: "Think about sample size requirements",
                explanation: "Need npÃÇ ‚â• 5 and n(1-pÃÇ) ‚â• 5 for both samples for normal approximation.",
                steps: `<div class="step-title">Normal Approximation:</div><div class="step-content"><ol><li><strong>Condition:</strong> npÃÇ ‚â• 5 and n(1-pÃÇ) ‚â• 5</li><li><strong>Both samples:</strong> Check for each group</li><li><strong>If violated:</strong> Use exact methods</li></ol></div>`
            },
            {
                question: "Why do we pool proportions under H‚ÇÄ?",
                correctAnswers: ["assume equal proportions", "best estimate", "common population"],
                hint: "Think about the null hypothesis assumption",
                explanation: "Under H‚ÇÄ: p‚ÇÅ = p‚ÇÇ, both samples come from populations with same proportion.",
                steps: `<div class="step-title">Pooling Logic:</div><div class="step-content"><ol><li><strong>H‚ÇÄ assumption:</strong> p‚ÇÅ = p‚ÇÇ</li><li><strong>Combined data:</strong> Better estimate</li><li><strong>Standard error:</strong> Uses pooled pÃÇ</li></ol></div>`
            },
            {
                question: "What is Fisher's exact test?",
                correctAnswers: ["exact test for proportions", "small sample alternative", "hypergeometric distribution"],
                hint: "Think about exact methods",
                explanation: "Fisher's exact test provides exact p-values when normal approximation fails.",
                steps: `<div class="step-title">Fisher's Exact:</div><div class="step-content"><ol><li><strong>Use:</strong> When normal approximation fails</li><li><strong>Distribution:</strong> Hypergeometric</li><li><strong>Exact:</strong> No approximation needed</li></ol></div>`
            },
            {
                question: "How do you interpret significant proportion test?",
                correctAnswers: ["proportions are different", "reject H‚ÇÄ", "evidence of difference"],
                hint: "Think about statistical significance",
                explanation: "Significant result means population proportions are significantly different.",
                steps: `<div class="step-title">Interpretation:</div><div class="step-content"><ol><li><strong>Significant:</strong> Reject H‚ÇÄ, proportions differ</li><li><strong>Effect size:</strong> |pÃÇ‚ÇÅ - pÃÇ‚ÇÇ|</li><li><strong>Practical:</strong> Consider magnitude of difference</li></ol></div>`
            },
            {
                question: "What is confidence interval for difference in proportions?",
                correctAnswers: ["(pÃÇ‚ÇÅ - pÃÇ‚ÇÇ) ¬± z √ó SE", "don't use pooled proportion"],
                hint: "Think about interval estimation",
                explanation: "CI = (pÃÇ‚ÇÅ - pÃÇ‚ÇÇ) ¬± z‚àö(pÃÇ‚ÇÅ(1-pÃÇ‚ÇÅ)/n‚ÇÅ + pÃÇ‚ÇÇ(1-pÃÇ‚ÇÇ)/n‚ÇÇ) - don't pool for CI.",
                steps: `<div class="step-title">Proportion CI:</div><div class="step-content"><ol><li><strong>Point estimate:</strong> pÃÇ‚ÇÅ - pÃÇ‚ÇÇ</li><li><strong>SE:</strong> ‚àö(pÃÇ‚ÇÅ(1-pÃÇ‚ÇÅ)/n‚ÇÅ + pÃÇ‚ÇÇ(1-pÃÇ‚ÇÇ)/n‚ÇÇ)</li><li><strong>No pooling:</strong> Use separate proportions</li></ol></div>`
            },
            {
                question: "When is continuity correction used?",
                correctAnswers: ["discrete to continuous", "small samples", "better approximation"],
                hint: "Think about discrete vs continuous",
                explanation: "Continuity correction improves normal approximation to discrete binomial distribution.",
                steps: `<div class="step-title">Continuity Correction:</div><div class="step-content"><ol><li><strong>When:</strong> Small to moderate samples</li><li><strong>Adjustment:</strong> ¬±0.5 to test statistic</li><li><strong>Improves:</strong> Normal approximation</li></ol></div>`
            }
        ];

        const varianceTestsQuestions = [
            {
                question: "What does F-test compare?",
                correctAnswers: ["two variances", "œÉ‚ÇÅ¬≤ vs œÉ‚ÇÇ¬≤", "variance ratio"],
                hint: "Think about what F-test is designed for",
                explanation: "F-test compares two population variances using the ratio F = s‚ÇÅ¬≤/s‚ÇÇ¬≤.",
                steps: `<div class="step-title">F-Test Purpose:</div><div class="step-content"><ol><li><strong>Compares:</strong> Two population variances</li><li><strong>H‚ÇÄ:</strong> œÉ‚ÇÅ¬≤ = œÉ‚ÇÇ¬≤</li><li><strong>H‚ÇÅ:</strong> œÉ‚ÇÅ¬≤ ‚â† œÉ‚ÇÇ¬≤</li></ol></div>`
            },
            {
                question: "What is the F-statistic formula?",
                correctAnswers: ["F = s‚ÇÅ¬≤/s‚ÇÇ¬≤", "larger variance over smaller", "variance ratio"],
                hint: "Think about the ratio of sample variances",
                explanation: "F = s‚ÇÅ¬≤/s‚ÇÇ¬≤ where larger variance goes in numerator for two-tailed test.",
                steps: `<div class="step-title">F-Statistic:</div><div class="step-content"><ol><li><strong>Formula:</strong> F = s‚ÇÅ¬≤/s‚ÇÇ¬≤</li><li><strong>Convention:</strong> Larger in numerator</li><li><strong>Always positive:</strong> Ratio of variances</li></ol></div>`
            },
            {
                question: "What distribution does F-statistic follow?",
                correctAnswers: ["F-distribution", "F(df‚ÇÅ, df‚ÇÇ)", "two degrees of freedom"],
                hint: "Think about the sampling distribution",
                explanation: "Under H‚ÇÄ, F follows F-distribution with df‚ÇÅ = n‚ÇÅ-1 and df‚ÇÇ = n‚ÇÇ-1.",
                steps: `<div class="step-title">F-Distribution:</div><div class="step-content"><ol><li><strong>Distribution:</strong> F(n‚ÇÅ-1, n‚ÇÇ-1)</li><li><strong>Right-skewed:</strong> Always positive</li><li><strong>Two parameters:</strong> df‚ÇÅ and df‚ÇÇ</li></ol></div>`
            },
            {
                question: "What assumption does F-test require?",
                correctAnswers: ["normality", "normal populations", "both samples normal"],
                hint: "Think about distributional assumptions",
                explanation: "F-test requires both populations to be normally distributed - very sensitive to violations.",
                steps: `<div class="step-title">F-Test Assumptions:</div><div class="step-content"><ol><li><strong>Normality:</strong> Both populations normal</li><li><strong>Independence:</strong> Samples independent</li><li><strong>Sensitive:</strong> Violations affect results</li></ol></div>`
            },
            {
                question: "What is Levene's test?",
                correctAnswers: ["robust test for equal variances", "absolute deviations", "less sensitive to normality"],
                hint: "Think about robust alternatives",
                explanation: "Levene's test uses absolute deviations from group medians - more robust than F-test.",
                steps: `<div class="step-title">Levene's Test:</div><div class="step-content"><ol><li><strong>Uses:</strong> |xi - median|</li><li><strong>Robust:</strong> Less sensitive to non-normality</li><li><strong>Alternative:</strong> To F-test</li></ol></div>`
            },
            {
                question: "How do you conduct two-tailed F-test?",
                correctAnswers: ["put larger variance in numerator", "compare to F_{Œ±/2}", "reject if F > critical"],
                hint: "Think about two-tailed procedure",
                explanation: "Put larger variance in numerator, reject if F > F_{Œ±/2, df‚ÇÅ, df‚ÇÇ}.",
                steps: `<div class="step-title">Two-tailed F-test:</div><div class="step-content"><ol><li><strong>Setup:</strong> F = s¬≤larger/s¬≤smaller</li><li><strong>Critical value:</strong> F_{Œ±/2, df‚ÇÅ, df‚ÇÇ}</li><li><strong>Decision:</strong> Reject if F > critical</li></ol></div>`
            },
            {
                question: "What is Bartlett's test?",
                correctAnswers: ["test multiple variances", "extension to k groups", "very sensitive"],
                hint: "Think about testing more than two variances",
                explanation: "Bartlett's test compares variances across multiple groups but is very sensitive to non-normality.",
                steps: `<div class="step-title">Bartlett's Test:</div><div class="step-content"><ol><li><strong>Multiple groups:</strong> k > 2 variances</li><li><strong>H‚ÇÄ:</strong> All variances equal</li><li><strong>Very sensitive:</strong> To non-normality</li></ol></div>`
            },
            {
                question: "Why is F-test not robust?",
                correctAnswers: ["sensitive to non-normality", "outliers affect results", "variance sensitive"],
                hint: "Think about robustness issues",
                explanation: "F-test performance deteriorates badly with non-normal data or outliers.",
                steps: `<div class="step-title">F-test Problems:</div><div class="step-content"><ol><li><strong>Non-normality:</strong> Inflated Type I error</li><li><strong>Outliers:</strong> Heavily influence variances</li><li><strong>Kurtosis:</strong> Heavy tails problematic</li></ol></div>`
            },
            {
                question: "What is the pre-testing problem?",
                correctAnswers: ["testing before choosing method", "inflated Type I error", "multiple testing"],
                hint: "Think about testing assumptions first",
                explanation: "Testing for equal variances before choosing analysis method inflates overall Type I error rate.",
                steps: `<div class="step-title">Pre-testing Problem:</div><div class="step-content"><ol><li><strong>Issue:</strong> Test then choose method</li><li><strong>Result:</strong> Inflated Œ±</li><li><strong>Solution:</strong> Use robust methods by default</li></ol></div>`
            },
            {
                question: "What is modern recommendation for variance testing?",
                correctAnswers: ["use Welch's by default", "avoid pre-testing", "robust methods"],
                hint: "Think about best practices",
                explanation: "Modern practice recommends using Welch's t-test by default rather than testing variances first.",
                steps: `<div class="step-title">Modern Approach:</div><div class="step-content"><ol><li><strong>Default:</strong> Welch's t-test</li><li><strong>Avoid:</strong> Pre-testing variances</li><li><strong>Robust:</strong> Works for equal and unequal variances</li></ol></div>`
            }
        ];

        const nonparametricQuestions = [
            {
                question: "When do you use nonparametric tests?",
                correctAnswers: ["non-normal data", "ordinal data", "robust alternatives"],
                hint: "Think about when assumptions are violated",
                explanation: "Use nonparametric tests when normality assumptions are violated or with ordinal data.",
                steps: `<div class="step-title">Nonparametric Use:</div><div class="step-content"><ol><li><strong>Non-normal:</strong> Skewed distributions</li><li><strong>Ordinal data:</strong> Ranked measurements</li><li><strong>Robust:</strong> Less sensitive to outliers</li></ol></div>`
            },
            {
                question: "What is Mann-Whitney U test?",
                correctAnswers: ["nonparametric two-sample test", "rank-based test", "Wilcoxon rank-sum equivalent"],
                hint: "Think about rank-based alternatives",
                explanation: "Mann-Whitney U test is nonparametric alternative to two-sample t-test using ranks.",
                steps: `<div class="step-title">Mann-Whitney U:</div><div class="step-content"><ol><li><strong>Alternative to:</strong> Two-sample t-test</li><li><strong>Uses:</strong> Ranks instead of raw data</li><li><strong>Equivalent:</strong> Wilcoxon rank-sum</li></ol></div>`
            },
            {
                question: "How do you compute Mann-Whitney U statistic?",
                correctAnswers: ["rank all observations", "sum ranks by group", "U = R - n(n+1)/2"],
                hint: "Think about ranking procedure",
                explanation: "Rank all observations together, sum ranks for each group, compute U = R‚ÇÅ - n‚ÇÅ(n‚ÇÅ+1)/2.",
                steps: `<div class="step-title">U Statistic:</div><div class="step-content"><ol><li><strong>Step 1:</strong> Rank all n‚ÇÅ + n‚ÇÇ observations</li><li><strong>Step 2:</strong> Sum ranks for group 1 (R‚ÇÅ)</li><li><strong>Step 3:</strong> U‚ÇÅ = R‚ÇÅ - n‚ÇÅ(n‚ÇÅ+1)/2</li></ol></div>`
            },
            {
                question: "What is Wilcoxon signed-rank test?",
                correctAnswers: ["paired nonparametric test", "signed ranks", "alternative to paired t-test"],
                hint: "Think about paired data alternative",
                explanation: "Wilcoxon signed-rank is nonparametric alternative to paired t-test using signed ranks.",
                steps: `<div class="step-title">Signed-rank Test:</div><div class="step-content"><ol><li><strong>For:</strong> Paired data</li><li><strong>Uses:</strong> Ranks of |differences|</li><li><strong>Signs:</strong> Assigned based on difference direction</li></ol></div>`
            },
            {
                question: "How do you handle ties in ranking?",
                correctAnswers: ["assign average ranks", "midrank method", "tied values get same rank"],
                hint: "Think about equal values",
                explanation: "Assign tied observations the average of the ranks they would occupy.",
                steps: `<div class="step-title">Handling Ties:</div><div class="step-content"><ol><li><strong>Identify:</strong> Equal values</li><li><strong>Average:</strong> Ranks they would occupy</li><li><strong>Assign:</strong> Same average rank to all ties</li></ol></div>`
            },
            {
                question: "What is the null hypothesis for Mann-Whitney test?",
                correctAnswers: ["identical distributions", "no systematic difference", "equal medians"],
                hint: "Think about what's being compared",
                explanation: "H‚ÇÄ: The two populations have identical distributions (or equal medians).",
                steps: `<div class="step-title">Mann-Whitney H‚ÇÄ:</div><div class="step-content"><ol><li><strong>Strict:</strong> Identical distributions</li><li><strong>Weaker:</strong> Equal medians</li><li><strong>Alternative:</strong> Systematic difference</li></ol></div>`
            },
            {
                question: "What is the efficiency of nonparametric tests?",
                correctAnswers: ["about 95%", "asymptotic relative efficiency", "small loss of power"],
                hint: "Think about power comparison",
                explanation: "Nonparametric tests have ~95% efficiency compared to parametric when assumptions hold.",
                steps: `<div class="step-title">Efficiency:</div><div class="step-content"><ol><li><strong>ARE:</strong> ~95% of parametric</li><li><strong>Robustness gain:</strong> Works when assumptions fail</li><li><strong>Trade-off:</strong> Slight power loss for robustness</li></ol></div>`
            },
            {
                question: "When is normal approximation used for U statistic?",
                correctAnswers: ["large samples", "n‚ÇÅ, n‚ÇÇ > 10", "continuity correction"],
                hint: "Think about large sample behavior",
                explanation: "For large samples (n‚ÇÅ, n‚ÇÇ > 10), U is approximately normal with known mean and variance.",
                steps: `<div class="step-title">Normal Approximation:</div><div class="step-content"><ol><li><strong>When:</strong> Both n‚ÇÅ, n‚ÇÇ > 10</li><li><strong>Mean:</strong> Œº·µ§ = n‚ÇÅn‚ÇÇ/2</li><li><strong>Variance:</strong> œÉ¬≤·µ§ = n‚ÇÅn‚ÇÇ(n‚ÇÅ+n‚ÇÇ+1)/12</li></ol></div>`
            },
            {
                question: "What is Kruskal-Wallis test?",
                correctAnswers: ["nonparametric ANOVA", "multiple groups", "rank-based"],
                hint: "Think about extending to multiple groups",
                explanation: "Kruskal-Wallis extends Mann-Whitney to compare more than two groups.",
                steps: `<div class="step-title">Kruskal-Wallis:</div><div class="step-content"><ol><li><strong>Extension:</strong> k > 2 groups</li><li><strong>Alternative:</strong> To one-way ANOVA</li><li><strong>Uses:</strong> Rank sums</li></ol></div>`
            },
            {
                question: "What is the sign test?",
                correctAnswers: ["simplest nonparametric test", "counts signs", "median test"],
                hint: "Think about the most basic approach",
                explanation: "Sign test only counts positive vs negative differences - simplest but least powerful.",
                steps: `<div class="step-title">Sign Test:</div><div class="step-content"><ol><li><strong>Simplest:</strong> Only uses direction</li><li><strong>Counts:</strong> + vs - signs</li><li><strong>Less powerful:</strong> Than signed-rank</li></ol></div>`
            }
        ];

        // Generate question functions
        function generateQuestion91() {
            const randomIndex = Math.floor(Math.random() * twoSampleZQuestions.length);
            currentQuestion91 = twoSampleZQuestions[randomIndex];
            
            document.getElementById('question-91-content').innerHTML = currentQuestion91.question;
            document.getElementById('hint-91').innerHTML = `üí° ${currentQuestion91.hint}`;
            
            document.getElementById('answer-91').value = '';
            document.getElementById('feedback-91').style.display = 'none';
            document.getElementById('steps-91').style.display = 'none';
        }

        function generateQuestion92() {
            const randomIndex = Math.floor(Math.random() * twoSampleTQuestions.length);
            currentQuestion92 = twoSampleTQuestions[randomIndex];
            
            document.getElementById('question-92-content').innerHTML = currentQuestion92.question;
            document.getElementById('hint-92').innerHTML = `üí° ${currentQuestion92.hint}`;
            
            document.getElementById('answer-92').value = '';
            document.getElementById('feedback-92').style.display = 'none';
            document.getElementById('steps-92').style.display = 'none';
        }

        function generateQuestion93() {
            const randomIndex = Math.floor(Math.random() * pairedTQuestions.length);
            currentQuestion93 = pairedTQuestions[randomIndex];
            
            document.getElementById('question-93-content').innerHTML = currentQuestion93.question;
            document.getElementById('hint-93').innerHTML = `üí° ${currentQuestion93.hint}`;
            
            document.getElementById('answer-93').value = '';
            document.getElementById('feedback-93').style.display = 'none';
            document.getElementById('steps-93').style.display = 'none';
        }

        function generateQuestion94() {
            const randomIndex = Math.floor(Math.random() * proportionTestsQuestions.length);
            currentQuestion94 = proportionTestsQuestions[randomIndex];
            
            document.getElementById('question-94-content').innerHTML = currentQuestion94.question;
            document.getElementById('hint-94').innerHTML = `üí° ${currentQuestion94.hint}`;
            
            document.getElementById('answer-94').value = '';
            document.getElementById('feedback-94').style.display = 'none';
            document.getElementById('steps-94').style.display = 'none';
        }

        function generateQuestion95() {
            const randomIndex = Math.floor(Math.random() * varianceTestsQuestions.length);
            currentQuestion95 = varianceTestsQuestions[randomIndex];
            
            document.getElementById('question-95-content').innerHTML = currentQuestion95.question;
            document.getElementById('hint-95').innerHTML = `üí° ${currentQuestion95.hint}`;
            
            document.getElementById('answer-95').value = '';
            document.getElementById('feedback-95').style.display = 'none';
            document.getElementById('steps-95').style.display = 'none';
        }

        function generateQuestion96() {
            const randomIndex = Math.floor(Math.random() * nonparametricQuestions.length);
            currentQuestion96 = nonparametricQuestions[randomIndex];
            
            document.getElementById('question-96-content').innerHTML = currentQuestion96.question;
            document.getElementById('hint-96').innerHTML = `üí° ${currentQuestion96.hint}`;
            
            document.getElementById('answer-96').value = '';
            document.getElementById('feedback-96').style.display = 'none';
            document.getElementById('steps-96').style.display = 'none';
        }

        // Check answer functions
        function checkAnswer91() {
            const userAnswer = document.getElementById('answer-91').value.toLowerCase().trim();
            if (!currentQuestion91) return;
            
            const isCorrect = currentQuestion91.correctAnswers.some(answer => 
                userAnswer.includes(answer.toLowerCase()) || answer.toLowerCase().includes(userAnswer)
            );
            
            const feedbackElement = document.getElementById('feedback-91');
            if (isCorrect) {
                feedbackElement.innerHTML = `<div class="correct">‚úÖ Correct! ${currentQuestion91.explanation}</div>`;
                feedbackElement.className = 'question-feedback correct-feedback';
            } else {
                feedbackElement.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${currentQuestion91.explanation}</div>`;
                feedbackElement.className = 'question-feedback incorrect-feedback';
            }
            feedbackElement.style.display = 'block';
        }

        function checkAnswer92() {
            const userAnswer = document.getElementById('answer-92').value.toLowerCase().trim();
            if (!currentQuestion92) return;
            
            const isCorrect = currentQuestion92.correctAnswers.some(answer => 
                userAnswer.includes(answer.toLowerCase()) || answer.toLowerCase().includes(userAnswer)
            );
            
            const feedbackElement = document.getElementById('feedback-92');
            if (isCorrect) {
                feedbackElement.innerHTML = `<div class="correct">‚úÖ Correct! ${currentQuestion92.explanation}</div>`;
                feedbackElement.className = 'question-feedback correct-feedback';
            } else {
                feedbackElement.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${currentQuestion92.explanation}</div>`;
                feedbackElement.className = 'question-feedback incorrect-feedback';
            }
            feedbackElement.style.display = 'block';
        }

        function checkAnswer93() {
            const userAnswer = document.getElementById('answer-93').value.toLowerCase().trim();
            if (!currentQuestion93) return;
            
            const isCorrect = currentQuestion93.correctAnswers.some(answer => 
                userAnswer.includes(answer.toLowerCase()) || answer.toLowerCase().includes(userAnswer)
            );
            
            const feedbackElement = document.getElementById('feedback-93');
            if (isCorrect) {
                feedbackElement.innerHTML = `<div class="correct">‚úÖ Correct! ${currentQuestion93.explanation}</div>`;
                feedbackElement.className = 'question-feedback correct-feedback';
            } else {
                feedbackElement.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${currentQuestion93.explanation}</div>`;
                feedbackElement.className = 'question-feedback incorrect-feedback';
            }
            feedbackElement.style.display = 'block';
        }

        function checkAnswer94() {
            const userAnswer = document.getElementById('answer-94').value.toLowerCase().trim();
            if (!currentQuestion94) return;
            
            const isCorrect = currentQuestion94.correctAnswers.some(answer => 
                userAnswer.includes(answer.toLowerCase()) || answer.toLowerCase().includes(userAnswer)
            );
            
            const feedbackElement = document.getElementById('feedback-94');
            if (isCorrect) {
                feedbackElement.innerHTML = `<div class="correct">‚úÖ Correct! ${currentQuestion94.explanation}</div>`;
                feedbackElement.className = 'question-feedback correct-feedback';
            } else {
                feedbackElement.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${currentQuestion94.explanation}</div>`;
                feedbackElement.className = 'question-feedback incorrect-feedback';
            }
            feedbackElement.style.display = 'block';
        }

        function checkAnswer95() {
            const userAnswer = document.getElementById('answer-95').value.toLowerCase().trim();
            if (!currentQuestion95) return;
            
            const isCorrect = currentQuestion95.correctAnswers.some(answer => 
                userAnswer.includes(answer.toLowerCase()) || answer.toLowerCase().includes(userAnswer)
            );
            
            const feedbackElement = document.getElementById('feedback-95');
            if (isCorrect) {
                feedbackElement.innerHTML = `<div class="correct">‚úÖ Correct! ${currentQuestion95.explanation}</div>`;
                feedbackElement.className = 'question-feedback correct-feedback';
            } else {
                feedbackElement.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${currentQuestion95.explanation}</div>`;
                feedbackElement.className = 'question-feedback incorrect-feedback';
            }
            feedbackElement.style.display = 'block';
        }

        function checkAnswer96() {
            const userAnswer = document.getElementById('answer-96').value.toLowerCase().trim();
            if (!currentQuestion96) return;
            
            const isCorrect = currentQuestion96.correctAnswers.some(answer => 
                userAnswer.includes(answer.toLowerCase()) || answer.toLowerCase().includes(userAnswer)
            );
            
            const feedbackElement = document.getElementById('feedback-96');
            if (isCorrect) {
                feedbackElement.innerHTML = `<div class="correct">‚úÖ Correct! ${currentQuestion96.explanation}</div>`;
                feedbackElement.className = 'question-feedback correct-feedback';
            } else {
                feedbackElement.innerHTML = `<div class="incorrect">‚ùå Incorrect. ${currentQuestion96.explanation}</div>`;
                feedbackElement.className = 'question-feedback incorrect-feedback';
            }
            feedbackElement.style.display = 'block';
        }

        // Show steps functions
        function showSteps91() {
            if (!currentQuestion91) return;
            const stepsElement = document.getElementById('steps-91');
            stepsElement.innerHTML = currentQuestion91.steps;
            stepsElement.style.display = 'block';
        }

        function showSteps92() {
            if (!currentQuestion92) return;
            const stepsElement = document.getElementById('steps-92');
            stepsElement.innerHTML = currentQuestion92.steps;
            stepsElement.style.display = 'block';
        }

        function showSteps93() {
            if (!currentQuestion93) return;
            const stepsElement = document.getElementById('steps-93');
            stepsElement.innerHTML = currentQuestion93.steps;
            stepsElement.style.display = 'block';
        }

        function showSteps94() {
            if (!currentQuestion94) return;
            const stepsElement = document.getElementById('steps-94');
            stepsElement.innerHTML = currentQuestion94.steps;
            stepsElement.style.display = 'block';
        }

        function showSteps95() {
            if (!currentQuestion95) return;
            const stepsElement = document.getElementById('steps-95');
            stepsElement.innerHTML = currentQuestion95.steps;
            stepsElement.style.display = 'block';
        }

        function showSteps96() {
            if (!currentQuestion96) return;
            const stepsElement = document.getElementById('steps-96');
            stepsElement.innerHTML = currentQuestion96.steps;
            stepsElement.style.display = 'block';
        }

        // Initialize on page load
        window.onload = function() {
            generateQuestion91();
            generateQuestion92();
            generateQuestion93();
            generateQuestion94();
            generateQuestion95();
            generateQuestion96();
        }
    </script>
</body>
</html>
